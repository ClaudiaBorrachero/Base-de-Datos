-- MySQL Script generated by MySQL Workbench
-- Thu Jan 23 17:17:56 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema liga
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema liga
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `liga` DEFAULT CHARACTER SET utf8 ;
USE `liga` ;

-- -----------------------------------------------------
-- Table `liga`.`equipo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `liga`.`equipo` (
  `id_equipo` INT NOT NULL,
  `nombre` VARCHAR(45) NOT NULL,
  `ciudad` VARCHAR(45) NOT NULL,
  `web` VARCHAR(45) NOT NULL,
  `puntos` INT NULL,
  PRIMARY KEY (`id_equipo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `liga`.`jugador`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `liga`.`jugador` (
  `id_jugador` INT NOT NULL,
  `nombre` VARCHAR(45) NULL,
  `apellido` VARCHAR(45) NULL,
  `posicion` VARCHAR(45) NULL,
  `fecha_alta` DATE NULL,
  `salario` VARCHAR(45) NULL,
  `altura` VARCHAR(45) NULL,
  `id_capitan` INT NULL,
  `equipo_id_equipo` INT NOT NULL,
  PRIMARY KEY (`id_jugador`),
  INDEX `fk_jugador_jugador1_idx` (`id_capitan` ASC) VISIBLE,
  INDEX `fk_jugador_equipo1_idx` (`equipo_id_equipo` ASC) VISIBLE,
  CONSTRAINT `fk_jugador_jugador1`
    FOREIGN KEY (`id_capitan`)
    REFERENCES `liga`.`jugador` (`id_jugador`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_jugador_equipo1`
    FOREIGN KEY (`equipo_id_equipo`)
    REFERENCES `liga`.`equipo` (`id_equipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `liga`.`partido`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `liga`.`partido` (
  `id_partido` INT NOT NULL,
  `resultante` VARCHAR(45) NULL,
  `fecha` DATE NULL,
  `arbitro` INT NULL,
  `local` INT NOT NULL,
  `visitante` INT NOT NULL,
  PRIMARY KEY (`id_partido`),
  INDEX `fk_partido_equipo1_idx` (`local` ASC) VISIBLE,
  INDEX `fk_partido_equipo2_idx` (`visitante` ASC) VISIBLE,
  CONSTRAINT `fk_partido_equipo1`
    FOREIGN KEY (`local`)
    REFERENCES `liga`.`equipo` (`id_equipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_partido_equipo2`
    FOREIGN KEY (`visitante`)
    REFERENCES `liga`.`equipo` (`id_equipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `liga`.`equipo`
-- -----------------------------------------------------
START TRANSACTION;
USE `liga`;
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (1, 'Real Barcelona', 'Barcelona', 'http://www.fcbarcelona.com/web/index_idiomes.html', 10);
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (2, 'Real Madrid', 'Madrid', 'http://www.realmadrid.com/cs/Satellite/es/1193040472450/SubhomeEquipo/Baloncesto.htm', 9);
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (3, 'P.E. Valencia', 'Valencia', 'http://www.valenciabasket.com/', 11);
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (4, 'Caja Laboral', 'Vitoria', 'http://www.baskonia.com/prehomes/prehomes.asp?id_prehome=69', 22);
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (5, 'Gran Canaria', 'Las Palmas', 'http://www.acb.com/club.php?id=CLA', 14);
INSERT INTO `liga`.`equipo` (`id_equipo`, `nombre`, `ciudad`, `web`, `puntos`) VALUES (6, 'CAI Zaragoza', 'Zaragoza', 'http://basketzaragoza.net/', 23);

COMMIT;


-- -----------------------------------------------------
-- Data for table `liga`.`jugador`
-- -----------------------------------------------------
START TRANSACTION;
USE `liga`;
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (1, 'Juan Carlos', 'Navarro', 'Escolta', '2010-01-10', '130000', '1,96', 1, 1);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (2, 'Felipe', 'Reyes', 'Pivot', '2009-02-20', '132000', '2,04', 2, 2);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (3, 'Victor', 'Claver', 'Alero', '2009-03-08', '99000', '2,08', 3, 3);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (4, 'Rafa', 'Martinez', 'Ala-Pivot', '2010-11-11', '51000', '1,91', 4, 3);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (5, 'Fernando', 'San Emeterio', 'Alero', '2008-09-22', '60000', '1,99', 6, 4);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (6, 'Mirza', 'Teletovic', 'Pivot', '2010-05-13', '77000', '2,06', 6, 4);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (7, 'Sergio', 'Llull', 'Escolta', '2011-10-29', '100000', '1,9', 2, 2);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (8, 'Victor', 'Sada', 'Base', '2012-01-01', '80000', '1,92', 1, 1);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (9, 'Carlos', 'Suarez', 'Alero', '2011-02-19', '66000', '2,03', 2, 2);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (10, 'Xavi', 'Rey', 'Pivot', '2008-10-12', '104500', '2,09', 14, 5);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (11, 'Carlos', 'Cabezas', 'Base', '2012-01-21', '105000', '1,86', 13, 6);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (12, 'Pablo', 'Aguilar', 'Alero', '2011-06-14', '51700', '2,03', 13, 6);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (13, 'Rafa', 'Hettsheimeir', NULL, '2008-04-15', '58300', '2,08', 13, 6);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (14, 'Sitapha', 'Savan√©', 'Pivot', '2011-07-27', '66000', '2,01', 14, 5);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (15, 'Anonimo', 'Anonimo', 'Ala-Pivot', '2012-01-01', '4000', '2', 2, 3);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (22, 'j1', NULL, NULL, NULL, NULL, '2', NULL, 2);
INSERT INTO `liga`.`jugador` (`id_jugador`, `nombre`, `apellido`, `posicion`, `fecha_alta`, `salario`, `altura`, `id_capitan`, `equipo_id_equipo`) VALUES (23, 'j2', NULL, NULL, NULL, NULL, NULL, NULL, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `liga`.`partido`
-- -----------------------------------------------------
START TRANSACTION;
USE `liga`;
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (1, '100-100', '2011-10-10', 4, 1, 2);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (2, '90-91', '2011-11-17', 5, 2, 3);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (3, '88-77', '2011-11-23', 6, 3, 4);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (4, '66-78', '2011-11-30', 6, 1, 6);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (5, '90-90', '2012-01-12', 7, 2, 4);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (6, '79-83', '2012-01-19', 3, 4, 5);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (7, '91-88', '2012-02-22', 3, 3, 6);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (8, '90-66', '2012-04-27', 2, 5, 4);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (9, '110-70', '2012-05-30', 1, 6, 5);
INSERT INTO `liga`.`partido` (`id_partido`, `resultante`, `fecha`, `arbitro`, `local`, `visitante`) VALUES (10, '88-77', '2011-09-01', 2, 3, 5);

COMMIT;

